{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 1,
      "content": {
        "json": "# Escoffier Monitoring Dashboard\n\nComprehensive monitoring for the Escoffier restaurant simulation system."
      },
      "name": "title"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppRequests\n| where TimeGenerated > ago(1h)\n| summarize RequestCount = count(), AvgDuration = avg(DurationMs), P95Duration = percentile(DurationMs, 95) by bin(TimeGenerated, 5m)\n| render timechart",
              "size": 0,
              "title": "API Performance Overview",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "api-performance"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppMetrics\n| where Name in ('order_queue_size', 'active_orders', 'completed_orders')\n| summarize Value = avg(Sum) by Name, bin(TimeGenerated, 5m)\n| render timechart",
              "size": 0,
              "title": "Order Processing Metrics",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "order-metrics"
          }
        ]
      },
      "name": "performance-group"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppMetrics\n| where Name contains 'agent_'\n| summarize AgentActivity = sum(Sum) by Name, bin(TimeGenerated, 5m)\n| render timechart",
              "size": 0,
              "title": "Agent Activity",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "agent-activity"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppDependencies\n| where Type == 'HTTP' and Name contains 'openai'\n| summarize CallCount = count(), AvgDuration = avg(DurationMs), FailureRate = countif(Success == false) * 100.0 / count() by bin(TimeGenerated, 5m)\n| render timechart",
              "size": 0,
              "title": "LLM API Performance",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "llm-performance"
          }
        ]
      },
      "name": "agent-group"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppExceptions\n| summarize ExceptionCount = count() by ExceptionType, bin(TimeGenerated, 5m)\n| render barchart",
              "size": 0,
              "title": "Exception Analysis",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "exceptions"
          },
          {
            "type": 3,
            "content": {
              "version": "KqlItem/1.0",
              "query": "AppMetrics\n| where Name in ('db_connection_pool_usage', 'redis_connection_pool_usage')\n| summarize Usage = avg(Sum) by Name, bin(TimeGenerated, 5m)\n| render timechart",
              "size": 0,
              "title": "Resource Pool Usage",
              "timeContext": {
                "durationMs": 3600000
              },
              "queryType": 0,
              "resourceType": "microsoft.operationalinsights/workspaces"
            },
            "name": "resource-pools"
          }
        ]
      },
      "name": "health-group"
    }
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}